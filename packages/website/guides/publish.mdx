---
title: Publishing the package
description: Take your package to production.
before:
  url: "building-to-a-network"
  title: "Building to a netkwork"
  description: "Learn how to build to remote network."
after:
  url: "explorer"
  title: "Using Cannon explorer"
  description: "Use Cannon explorer to interact with your package."
---

## Publishing the package

Once you have completed the builds of your package, the only thing left to do is to publish it on Cannon. Publishing your package in Cannon serves several important purposes:

- It links your package name with the deployment data or deployment artifacts, making it easily accessible.
- It allows others to discover and use your package.
- It enables version control and updates for your package.

#### Cannon registry

The main reason we do this is to associate your package name with the deployment artifact or deployment data generated earlier in the Cannon registry.

<Alert className="mt-6">
  <AlertDescription>
    üëâ You can check out the Cannon Registry contract in [our explorer.](https://usecannon.com/packages/registry/latest/10-main/code/registry?source=contracts%2FCannonRegistry.sol)
  </AlertDescription>
</Alert>

The registry is a contract that, as the name suggests, keeps a record of the association between the package name and the deployment data. Essentially, it stores that this package belongs to a specific address, in this case, the one you're using.

This association in the Cannon registry serves several purposes:

- It ensures that your package is **going to stay available indefinitely** and **linked to your address.**
- It allows others to verify the **authenticity and ownership of the package**.
- It facilitates **version control** and **updates** for your package.

<Alert variant="info" className="mt-6">
  <AlertDescription>
    üì¢ When you publish your package, you're essentially registering it in this contract, making it officially recognized within the Cannon ecosystem.
  </AlertDescription>
</Alert>

#### Publish your package

Now we're going to try publishing our cannon-learn package. To do this, we'll run the `cannon publish` command in the CLI.

Run on the CLI:
<Snippet>
$ cannon publish learn-cannon:0.0.1 --chain-id 11155111
</Snippet>

What we are specifying here is the package name `learn-cannon:0.0.1` and on which chain it is located. Since our build was generated on Sepolia, we use the chain ID `11155111`.

If everything went well, in the CLI we will see that it will allow us to choose which Cannon Registry we want to use, either the one on Ethereum Mainnet or on OP Mainnet (Optimism).

<Snippet className="flex-col items-start">
? Which registry would you like to use? (Cannon will find the package on either): ‚Ä∫ - Use arrow-keys. Return to submit.
‚ùØ   OP Mainnet (Chain ID: 10)
    Ethereum Mainnet (Chain ID: 1)
</Snippet>

For this example, we will use the Ethereum Mainnet.

<Alert variant="warning" className="mt-6">
  <AlertDescription>
    ‚ö†Ô∏è Keep in mind that to register your package on either network, you need to have the specific ETH in your wallet.
  </AlertDescription>
</Alert>

Once we select the network on which we want to register our package, it will ask us to enter the private key we want to use.

<Snippet>
? Enter the private key of the address you want to use: ‚Ä∫
</Snippet>

At this step, it's important to highlight that Cannon will detect that this package is not yet registered and will ask us if we want to do so.

<Alert className="mt-6">
  <AlertDescription>
    üëâ At this point, it's recommended to do it because if we don't, we won't be able to obtain the benefits of the registry mentioned earlier.
  </AlertDescription>
</Alert>

<Snippet className="flex-col items-start mt-6">
Package "learn-cannon" not yet registered, please use "cannon register"
to register your package first. You need enough gas on Ethereum Mainnet
to register the package on Cannon Registry

? Would you like to register the package now? ‚Ä∫ (Y/n)
</Snippet>

Cannon will notify us about the package we are going to publish and provide an estimated gas cost for the transaction.

<Snippet className="flex-col items-start mt-6">
You are about to register the following packages:

\- Package: learn-cannon

The transaction will cost ~0.001844607656625584 ETH on Ethereum Mainnet.

? Proceed? ‚Ä∫ (y/N)
</Snippet>

Once the transaction is confirmed, we will receive an estimate of the transaction fee. If everything went well, we will also obtain the transaction hash.

<Snippet className="flex-col items-start mt-6">
Submitting transaction, waiting for transaction to succeed...

Estimated gas: 339870 wei
Gas price: 0.000000005399875901 ETH
Estimated transaction Fee: 0.00183525582247287 ETH

Success! (Transaction Hash: 0x338ac143e7ac0385668cf781d71ded28e0064acca5eb4b3423dccbd7978e4642)

Waiting for the transaction to propagate to OP Mainnet... It may take approximately 1-3 minutes.

Success - Package "learn-cannon" has been registered.
</Snippet>

Once the registration process is complete, the CLI will notify us that the package has been successfully registered and that we can continue with the process of publishing `learn-cannon` to the registry.

<Alert variant="info" className="mt-6">
  <AlertDescription>
    üì¢ The publish command can use configuration parameters such as `--mas-fee-per-gas`, `--max-priority-fee-per-gas` and `--gas-limit` for transaction execution. We won't be covering these in this guide.
  </AlertDescription>
</Alert>

<Snippet className="flex-col items-start mt-6">
We will continue with the publishing process.

Settings:
 \- Max Fee Per Gas: default
 \- Max Priority Fee Per Gas: default
 \- Gas Limit: default
 \- To alter these settings use the parameters '--max-fee-per-gas', '--max-priority-fee-per-gas', '--gas-limit'.

Publishing with 0x88e224762460f5aAcA3Bde86dA4EFa9B13662b80

This will publish **learn-cannon** to the registry:
 - 0.0.1 (preset: main)
 - latest (preset: main)

Total publishing fees: 0.0025 ETH

? Proceed? ‚Ä∫ (y/N)
</Snippet>

<Alert className="mt-6">
  <AlertDescription>
    üëâ It's important to clarify that each publish process has a fee of `0.0025 ETH` charged by Cannon. This enables and ensures the maintenance of the package.
  </AlertDescription>
</Alert>

Once we continue with the publication process and everything goes well, we will obtain the package URL and the transaction hash as we see below:

<Snippet className="flex-col items-start mt-6">
Publishing package...
This may take a few minutes.

Publishing packages to the registry on-chain...

Package: learn-cannon
Tags: 0.0.1, latest
Package URL: ipfs://QmU4UqpWg7JJGS3fquRevDhm5G2nMGxMaDKWyEK2mtmRvM

Estimated gas: 162977 wei
Gas price: 0.000000006634068496 ETH
Estimated transaction Fee: 0.001081200581272592 ETH

Transactions:
  \- 0x5f3ac83ff8624f745b5e2b8669e1e0119efce5594893ff6a3d8d1e1a10ab6e00
</Snippet>

#### The publish of the source code

By default, Cannon includes the project's source code, but this can be avoided by adding the `privateSourceCode` property to your `cannonfile.toml`.

<Snippet className="flex-col items-start mt-6">
// ./cannonfile.toml

name = "learn-cannon"<br/>
version = "0.0.1"<br/>
description = "Cannon learn - Sample Foundry Project"<br/>
privateSourceCode = true<br/>

...
</Snippet>

Something to keep in mind is that when a package is published privately, Cannon will not be able to verify the contract on Etherscan.

üéâ And that's it, our package is published and accessible! üéâ